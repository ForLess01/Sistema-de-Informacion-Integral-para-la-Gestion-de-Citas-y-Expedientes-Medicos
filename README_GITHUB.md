# Sistema de Informaci√≥n Integral para la Gesti√≥n de Citas y Expedientes M√©dicos

![Banner del Proyecto](https://via.placeholder.com/1200x400?text=Sistema+Medico)

## üöÄ Visi√≥n General del Proyecto

Este proyecto es un sistema integral dise√±ado para la gesti√≥n eficiente de citas y expedientes m√©dicos en cl√≠nicas y consultorios. Ofrece una soluci√≥n completa para la administraci√≥n de pacientes, doctores, horarios, historiales cl√≠nicos y emergencias, accesible a trav√©s de una interfaz web moderna y una aplicaci√≥n de escritorio robusta.

## ‚ú® Caracter√≠sticas Principales

-   **Gesti√≥n de Citas:** Agendamiento, confirmaci√≥n, cancelaci√≥n y recordatorios.
-   **Expedientes M√©dicos Electr√≥nicos:** Historiales completos, signos vitales, alergias, recetas y resultados de laboratorio.
-   **Autenticaci√≥n Segura:** Roles de usuario (paciente, doctor, administrador), autenticaci√≥n de dos factores (2FA).
-   **Acceso Multiplataforma:** Aplicaci√≥n web (React) y aplicaci√≥n de escritorio (Electron).
-   **M√≥dulo de Emergencias:** Sistema de triaje y gesti√≥n de casos urgentes.
-   **Reportes y Estad√≠sticas:** Generaci√≥n de informes sobre la operaci√≥n de la cl√≠nica.

## üèóÔ∏è Arquitectura del Sistema

El sistema sigue una arquitectura cliente-servidor distribuida, compuesta por:

-   **Backend (Django):** API RESTful que maneja la l√≥gica de negocio, la base de datos y la autenticaci√≥n.
-   **Frontend Web (React):** Interfaz de usuario para pacientes, accesible desde cualquier navegador.
-   **Frontend Desktop (Electron):** Aplicaci√≥n de escritorio para el personal m√©dico y administrativo, ofreciendo una experiencia m√°s integrada.

## üõ†Ô∏è Tecnolog√≠as Utilizadas

-   **Backend:** Python, Django, Django REST Framework, PostgreSQL, Celery, Redis.
-   **Frontend Web:** React, Vite, Tailwind CSS, Axios, TanStack Query.
-   **Frontend Desktop:** Electron, React, Vite.

## üìã Requisitos Previos

Para configurar y ejecutar este proyecto, necesitar√°s las siguientes herramientas instaladas en tu sistema. Se proporcionan enlaces a las gu√≠as de instalaci√≥n oficiales para cada sistema operativo.

### 1. Git

Sistema de control de versiones.

-   **Windows:** [Descargar Git para Windows](https://git-scm.com/download/win)
-   **macOS:** Instala Xcode Command Line Tools (`xcode-select --install`) o Homebrew (`brew install git`).
-   **Linux (Debian/Ubuntu):** `sudo apt update && sudo apt install git`

### 2. Python 3.9+

Necesario para el backend de Django.

-   **Windows:** [Descargar Python para Windows](https://www.python.org/downloads/windows/) (aseg√∫rate de marcar "Add Python to PATH" durante la instalaci√≥n).
-   **macOS:** Python suele venir preinstalado, pero se recomienda usar Homebrew (`brew install python@3.9`).
-   **Linux:** `sudo apt update && sudo apt install python3.9 python3.9-venv`

### 3. Node.js 18+ y npm

Necesario para los frontends de React. `npm` se instala junto con Node.js.

-   **Windows/macOS:** [Descargar Node.js LTS](https://nodejs.org/en/download/)
-   **Linux:** [Instalar Node.js usando NVM](https://github.com/nvm-sh/nvm#installing-and-updating) (recomendado para gestionar versiones).

### 4. Docker y Docker Compose (Altamente Recomendado)

Para una configuraci√≥n sencilla y consistente de PostgreSQL y Redis. **En Windows, usar Docker Desktop es la forma m√°s robusta de ejecutar estos servicios, ya que evita complejidades de instalaci√≥n nativa y posibles conflictos de puertos.**

-   **Windows/macOS:** [Descargar Docker Desktop](https://www.docker.com/products/docker-desktop/). **Nota para Windows:** Tras la instalaci√≥n, es posible que Docker Desktop solicite iniciar sesi√≥n o registrarse. Puedes **saltar este paso** para continuar usando Docker localmente sin necesidad de una cuenta.
-   **Linux:** [Instalar Docker Engine y Docker Compose](https://docs.docker.com/engine/install/)

## üöÄ Gu√≠a de Instalaci√≥n y Configuraci√≥n Detallada

Sigue estos pasos meticulosamente para configurar y ejecutar el proyecto en tu m√°quina local.

### 1. Clonar el Repositorio

Abre tu terminal (o PowerShell en Windows) y ejecuta:

```bash
git clone https://github.com/tu-usuario/Sistema-de-Informacion-Integral-para-la-Gestion-de-Citas-y-Expedientes-Medicos.git
cd Sistema-de-Informacion-Integral-para-la-Gestion-de-Citas-y-Expedientes-Medicos
```

### 2. Configuraci√≥n de Servicios Esenciales (PostgreSQL y Redis)

**¬°La forma m√°s sencilla y recomendada es usar Docker Compose!** Esto a√≠sla la base de datos y el servidor de cach√© en contenedores, evitando conflictos con instalaciones nativas y simplificando la configuraci√≥n, especialmente en Windows.

#### 2.1. Crear `docker-compose.yml`

En la **ra√≠z del proyecto** (donde se encuentra este `README`), crea un archivo llamado `docker-compose.yml` con el siguiente contenido. Este archivo define dos servicios: `db` (PostgreSQL) y `redis`.

```yaml
version: '3.8'

services:
  db:
    image: postgres:14-alpine
    container_name: medical_system_db
    environment:
      POSTGRES_DB: medical_system
      POSTGRES_USER: medical_user
      POSTGRES_PASSWORD: your_password_for_db # ¬°CAMBIA ESTO!
    ports:
      - "5432:5432" # Mapea el puerto 5432 del contenedor al 5432 de tu m√°quina
    volumes:
      - pg_data:/var/lib/postgresql/data # Persistencia de datos
    healthcheck: # Verifica que la DB est√© lista para aceptar conexiones
      test: ["CMD-SHELL", "pg_isready -U medical_user -d medical_system"]
      interval: 5s
      timeout: 5s
      retries: 5
    restart: unless-stopped # Reinicia el contenedor autom√°ticamente

  redis:
    image: redis:6-alpine
    container_name: medical_system_redis
    ports:
      - "6379:6379" # Mapea el puerto 6379 del contenedor al 6379 de tu m√°quina
    healthcheck: # Verifica que Redis est√© respondiendo
      test: ["CMD", "redis-cli", "ping"]
      interval: 5s
      timeout: 3s
      retries: 5
    restart: unless-stopped # Reinicia el contenedor autom√°ticamente

volumes:
  pg_data: # Volumen para la persistencia de los datos de PostgreSQL
```

**¬°IMPORTANTE!** Cambia `your_password_for_db` por una contrase√±a segura de tu elecci√≥n. Esta contrase√±a se usar√° en el archivo `.env` del backend.

#### 2.2. Iniciar los Servicios con Docker Compose

Desde la **ra√≠z del proyecto**, ejecuta el siguiente comando para levantar los contenedores en segundo plano:

```bash
docker-compose up -d
```

-   `up`: Crea y levanta los servicios definidos en `docker-compose.yml`.
-   `-d`: Ejecuta los contenedores en modo "detached" (segundo plano).

**Verificar el estado de los servicios:**

```bash
docker-compose ps
```

Deber√≠as ver `medical_system_db` y `medical_system_redis` con estado `Up (healthy)`. Si no est√°n `healthy`, espera un poco m√°s o revisa los logs con `docker-compose logs`.

#### 2.3. Alternativa (Instalaci√≥n Nativa)

Si por alguna raz√≥n no puedes o no quieres usar Docker, deber√°s instalar PostgreSQL y Redis directamente en tu sistema operativo.

-   **PostgreSQL:**
    -   Instala PostgreSQL (versi√≥n 14+).
    -   Crea una base de datos llamada `medical_system`.
    -   Crea un usuario llamado `medical_user` con la contrase√±a que usar√°s en el `.env` del backend (ej. `your_password_for_db`).
    -   Aseg√∫rate de que PostgreSQL est√© escuchando en el puerto `5432`.
-   **Redis:**
    -   Instala Redis (versi√≥n 6+).
    -   Aseg√∫rate de que Redis est√© escuchando en el puerto `6379`.

Consulta la documentaci√≥n oficial de cada software para instrucciones de instalaci√≥n espec√≠ficas de tu sistema operativo.

### 3. Configuraci√≥n del Backend (Python/Django)

Navega al directorio `backend`:

```bash
cd backend
```

#### 3.1. Entorno Virtual y Dependencias

Es crucial usar un entorno virtual para aislar las dependencias de Python de tu sistema global.

Crea un entorno virtual:

```bash
python -m venv venv
```

Activa el entorno virtual:

-   **En Windows (CMD/PowerShell):**
    ```bash
    .\venv\Scripts\activate
    ```
-   **En macOS/Linux (Bash/Zsh):**
    ```bash
    source venv/bin/activate
    ```

Instala las dependencias de Python. El archivo `requirements.txt` lista todas las librer√≠as necesarias.

```bash
pip install -r requirements.txt
```

**Nota sobre `requirements.txt`:** Este archivo es bastante extenso. Para entornos de producci√≥n, se recomienda usar un `requirements-prod.txt` m√°s limpio y generado con herramientas como `pip-tools` para incluir solo las dependencias directas y sus subdependencias, lo que reduce el tama√±o y posibles conflictos.

#### 3.2. Variables de Entorno

Crea un archivo `.env` en el directorio `backend/` (al mismo nivel que `manage.py`). Este archivo contendr√° las configuraciones sensibles y espec√≠ficas de tu entorno.

```dotenv
# Clave secreta de Django. ¬°GENERAR UNA NUEVA Y SEGURA!
SECRET_KEY=your_django_secret_key_here

# Modo de depuraci√≥n (True para desarrollo, False para producci√≥n)
DEBUG=True

# Hosts permitidos para Django (para producci√≥n, cambia a tu dominio)
ALLOWED_HOSTS=localhost,127.0.0.1

# Configuraci√≥n de la base de datos PostgreSQL
# Aseg√∫rate de que el usuario y la contrase√±a coincidan con los de tu DB/Docker Compose
DATABASE_URL=postgres://medical_user:your_password_for_db@localhost:5432/medical_system

# URL de Redis para Celery y cach√©
REDIS_URL=redis://localhost:6379/0

# Configuraci√≥n de correo electr√≥nico (ejemplo con Mailtrap para desarrollo)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.mailtrap.io
EMAIL_PORT=2525
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your_mailtrap_username
EMAIL_HOST_PASSWORD=your_mailtrap_password

# Otros ajustes de entorno si son necesarios
```

**C√≥mo generar una `SECRET_KEY` segura:**
Puedes usar Python para generar una clave aleatoria:

```bash
python -c "import secrets; print(secrets.token_urlsafe(50))"
```
Copia la salida y p√©gala en tu archivo `.env`.

#### 3.3. Migraciones y Superusuario

Aplica las migraciones de la base de datos para crear el esquema necesario. Luego, crea un superusuario para acceder al panel de administraci√≥n de Django.

```bash
python manage.py makemigrations # Crea migraciones si hay cambios en los modelos
python manage.py migrate        # Aplica todas las migraciones pendientes
python manage.py createsuperuser # Sigue las instrucciones para crear un admin
```

**Opcional: Cargar datos de prueba**
Si el proyecto incluye datos de prueba (fixtures), puedes cargarlos as√≠:

```bash
python manage.py loaddata fixtures/initial_data.json
```

Regresa al directorio ra√≠z del proyecto:

```bash
cd ..
```

### 4. Configuraci√≥n del Frontend Web (React)

Navega al directorio `frontend-web`:

```bash
cd frontend-web
```

#### 4.1. Dependencias de Node.js

Instala las dependencias de Node.js definidas en `package.json`:

```bash
npm install
```

**Troubleshooting `npm install`:**
-   **Versi√≥n de Node.js/npm:** Aseg√∫rate de que tu versi√≥n de Node.js sea 18+ y que npm est√© actualizado (`npm install -g npm@latest`).
-   **Cach√© de npm corrupta:** Intenta limpiar la cach√©: `npm cache clean --force`.
-   **Problemas de red/proxy:** Verifica tu conexi√≥n a internet o la configuraci√≥n de tu proxy.
-   **Permisos (Linux/macOS):** Si ves errores de permisos, evita usar `sudo npm install` si es posible. Intenta arreglar los permisos de tu directorio `node_modules` o usa `nvm` para gestionar Node.js.

#### 4.2. Variables de Entorno

Crea un archivo `.env.local` en el directorio `frontend-web/` (al mismo nivel que `package.json`). Este archivo es espec√≠fico para el entorno local y **no debe ser versionado en Git**.

```dotenv
VITE_API_URL=http://localhost:8000/api/v1
```

Regresa al directorio ra√≠z del proyecto:

```bash
cd ..
```

### 5. Configuraci√≥n del Frontend Desktop (Electron)

Navega al directorio `frontend-desktop`:

```bash
cd frontend-desktop
```

#### 5.1. Dependencias de Node.js

Instala las dependencias de Node.js definidas en `package.json`:

```bash
npm install
```

**Nota:** Las mismas consideraciones de `npm install` aplican aqu√≠.

#### 5.2. Variables de Entorno

Crea un archivo `.env.local` en el directorio `frontend-desktop/` (al mismo nivel que `package.json`). Este archivo es espec√≠fico para el entorno local y **no debe ser versionado en Git**.

```dotenv
VITE_API_URL=http://localhost:8000/api/v1
```

Regresa al directorio ra√≠z del proyecto:

```bash
cd ..
```

## ‚ñ∂Ô∏è C√≥mo Ejecutar el Proyecto

Una vez que todos los componentes est√°n configurados, puedes iniciar el sistema completo.

### Opci√≥n 1: Usar los Scripts de Inicio (Recomendado)

Desde el directorio **ra√≠z del proyecto**, puedes usar los scripts proporcionados para iniciar todos los componentes simult√°neamente.

#### Para Usuarios de Windows (CMD)

```bash
start_system.bat
```

Este script:
1.  Verifica si Redis y PostgreSQL est√°n corriendo (asumiendo que los levantaste con Docker Compose o nativamente).
2.  Inicia el servidor de desarrollo de Django (backend) en `http://localhost:8000`.
3.  Inicia el servidor de desarrollo del Frontend Web en `http://localhost:3000`.
4.  Inicia la aplicaci√≥n Electron del Frontend Desktop.

#### Para Usuarios de PowerShell

```powershell
.\start-servers.ps1
```

Este script realiza acciones similares al `.bat`, pero est√° dise√±ado para entornos PowerShell.

### Opci√≥n 2: Iniciar Componentes Manualmente (Para Depuraci√≥n)

Si prefieres iniciar cada componente por separado para depuraci√≥n o control granular:

1.  **Iniciar Servicios (PostgreSQL y Redis):**
    Si usas Docker Compose:
    ```bash
    docker-compose up -d
    ```
    Si usas instalaciones nativas, aseg√∫rate de que est√©n corriendo.

2.  **Iniciar Backend (Django):**
    Abre una nueva terminal, navega a `backend/`, activa el entorno virtual y ejecuta:
    ```bash
    cd backend
    .\venv\Scripts\activate # Windows
    # source venv/bin/activate # macOS/Linux
    python manage.py runserver 8000
    ```

3.  **Iniciar Frontend Web (React):**
    Abre otra nueva terminal, navega a `frontend-web/` y ejecuta:
    ```bash
    cd frontend-web
    npm run dev
    ```

4.  **Iniciar Frontend Desktop (Electron):**
    Abre una tercera terminal, navega a `frontend-desktop/` y ejecuta:
    ```bash
    cd frontend-desktop
    npm run dev
    ```

### Acceso a los Servicios

Una vez que todos los servicios est√©n corriendo:

-   **Backend API:** `http://localhost:8000`
-   **Frontend Web:** `http://localhost:3000` (se abrir√° autom√°ticamente en tu navegador)
-   **Frontend Desktop:** La aplicaci√≥n de escritorio se iniciar√° autom√°ticamente.
-   **Panel de Administraci√≥n Django:** `http://localhost:8000/admin`
-   **Documentaci√≥n de la API (Swagger):** `http://localhost:8000/api/swagger/`

## üö® Troubleshooting (Problemas Comunes y Soluciones)

Aqu√≠ hay una lista de problemas comunes que podr√≠as encontrar y c√≥mo resolverlos.

### Problemas con Docker / Servicios (PostgreSQL, Redis)

-   **`docker-compose up -d` falla o los contenedores no est√°n `healthy`:**
    -   **Daemon de Docker no corriendo:** Aseg√∫rate de que Docker Desktop (Windows/macOS) o el servicio Docker (Linux) est√© iniciado. Reinicia Docker si es necesario.
    -   **Puertos ocupados:** Si el puerto `5432` (PostgreSQL) o `6379` (Redis) ya est√° siendo utilizado por otra aplicaci√≥n en tu sistema, Docker no podr√° mapearlos.
        -   **Soluci√≥n:** Det√©n la aplicaci√≥n que est√° usando el puerto o cambia el mapeo de puertos en `docker-compose.yml` (ej. `5433:5432`). Recuerda actualizar la `DATABASE_URL` en tu `.env` del backend si cambias el puerto de PostgreSQL.
    -   **Logs del contenedor:** Revisa los logs de los contenedores para ver el error espec√≠fico:
        ```bash
        docker-compose logs db
        docker-compose logs redis
        ```
    -   **Vol√∫menes corruptos:** Si los datos de PostgreSQL se corrompen, puedes intentar eliminar el volumen y recrearlo (¬°esto borrar√° todos los datos de la DB!):
        ```bash
        docker-compose down -v # Detiene y elimina contenedores y vol√∫menes
        docker-compose up -d   # Vuelve a levantar
        ```

### Problemas con el Backend (Python/Django)

-   **`ModuleNotFoundError` o `ImportError`:**
    -   **Entorno virtual no activado:** Aseg√∫rate de haber activado el entorno virtual (`source venv/bin/activate` o `.\venv\Scripts\activate`) antes de instalar dependencias o ejecutar comandos de Django.
    -   **Dependencias no instaladas:** Ejecuta `pip install -r requirements.txt` de nuevo para asegurarte de que todas las dependencias est√©n instaladas.
-   **`django.db.utils.OperationalError: connection refused`:**
    -   **Base de datos no corriendo:** Aseg√∫rate de que tu contenedor de PostgreSQL (o instalaci√≥n nativa) est√© iniciado y accesible en el puerto `5432`.
    -   **Credenciales incorrectas:** Verifica que `POSTGRES_USER`, `POSTGRES_PASSWORD` y `POSTGRES_DB` en tu `docker-compose.yml` (o configuraci√≥n nativa) coincidan con los de `DATABASE_URL` en el `.env` del backend.
-   **`django.core.exceptions.ImproperlyConfigured: The SECRET_KEY setting must not be empty.`:**
    -   Aseg√∫rate de haber generado y pegado una `SECRET_KEY` v√°lida en tu archivo `.env`.
-   **`You have 18 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): ...`:**
    -   Ejecuta `python manage.py migrate` para aplicar las migraciones pendientes.

### Problemas con los Frontends (React/Node.js)

-   **`npm install` falla:**
    -   **Versi√≥n de Node.js/npm:** Aseg√∫rate de que tu versi√≥n de Node.js sea 18+ y que npm est√© actualizado (`npm install -g npm@latest`).
    -   **Cach√© de npm corrupta:** Intenta limpiar la cach√©: `npm cache clean --force`.
    -   **Problemas de red/proxy:** Verifica tu conexi√≥n a internet o la configuraci√≥n de tu proxy.
    -   **Permisos (Linux/macOS):** Si ves errores de permisos, evita usar `sudo npm install` si es posible. Intenta arreglar los permisos de tu directorio `node_modules` o usa `nvm` para gestionar Node.js.
-   **La aplicaci√≥n web no carga o muestra errores en el navegador:**
    -   **Backend no corriendo:** Aseg√∫rate de que el servidor de Django est√© iniciado en `http://localhost:8000`. El frontend necesita comunicarse con √©l.
    -   **`VITE_API_URL` incorrecta:** Verifica que la URL en tu `.env.local` del frontend sea correcta y apunte a tu backend.
    -   **Errores en la consola del navegador:** Abre las herramientas de desarrollador (F12) y revisa la consola para ver mensajes de error espec√≠ficos.
-   **La aplicaci√≥n de escritorio no se inicia o se cierra inesperadamente:**
    -   **Servidor Vite no corriendo:** La aplicaci√≥n Electron en desarrollo depende del servidor Vite. Aseg√∫rate de que `npm run dev:vite` est√© funcionando correctamente.
    -   **Errores en la consola de Electron:** Si la ventana de Electron se abre y luego se cierra, intenta iniciarla desde la terminal para ver los mensajes de error.
    -   **Problemas de `electron-builder`:** Si est√°s intentando construir la aplicaci√≥n para distribuci√≥n (`npm run dist`), aseg√∫rate de que todas las dependencias de desarrollo est√©n instaladas y que no haya errores de compilaci√≥n.

## üìÇ Estructura Detallada del Proyecto

Este proyecto est√° organizado en una estructura modular, con directorios dedicados a cada componente principal (backend, frontend-web, frontend-desktop) y archivos de configuraci√≥n y scripts en la ra√≠z.

```
Sistema-de-Informacion-Integral-para-la-Gestion-de-Citas-y-Expedientes-Medicos/
‚îú‚îÄ‚îÄ .git/                       # Repositorio Git
‚îú‚îÄ‚îÄ .gitignore                  # Archivos y directorios a ignorar por Git
‚îú‚îÄ‚îÄ check_requirements.py       # Script para verificar dependencias
‚îú‚îÄ‚îÄ clean-project.ps1           # Script PowerShell para limpieza del proyecto
‚îú‚îÄ‚îÄ dev.bat                     # Script de desarrollo (Windows)
‚îú‚îÄ‚îÄ ejecutar_bats.py            # Script Python para ejecutar .bat
‚îú‚îÄ‚îÄ README.md                   # README original del proyecto
‚îú‚îÄ‚îÄ REQUIREMENTS_README.md      # Documentaci√≥n sobre los requirements
‚îú‚îÄ‚îÄ requirements-dev.txt        # Dependencias de desarrollo Python
‚îú‚îÄ‚îÄ requirements-prod.txt       # Dependencias de producci√≥n Python
‚îú‚îÄ‚îÄ requirements.txt            # Dependencias generales Python (puede ser extenso)
‚îú‚îÄ‚îÄ run_system.py               # Script Python para iniciar el sistema
‚îú‚îÄ‚îÄ setup_backend.bat           # Script de configuraci√≥n inicial del backend
‚îú‚îÄ‚îÄ setup_frontend_desktop.bat  # Script de configuraci√≥n inicial del frontend desktop
‚îú‚îÄ‚îÄ setup_frontend_web.bat      # Script de configuraci√≥n inicial del frontend web
‚îú‚îÄ‚îÄ start_system.bat            # Script para iniciar todos los servicios (Windows)
‚îú‚îÄ‚îÄ start-servers.ps1           # Script para iniciar todos los servicios (PowerShell)
‚îú‚îÄ‚îÄ test_2fa_frontend.py        # Tests para 2FA del frontend
‚îú‚îÄ‚îÄ DOCUMENTACION_COMPLETA.md   # Documentaci√≥n completa del proyecto
‚îú‚îÄ‚îÄ requirements_global.txt     # Lista consolidada de todas las dependencias (Python y JS)
‚îú‚îÄ‚îÄ README_GITHUB.md            # Este archivo README
‚îú‚îÄ‚îÄ docker-compose.yml          # Configuraci√≥n de Docker Compose para servicios
‚îÇ
‚îú‚îÄ‚îÄ backend/                    # **Componente: Servidor Django (API RESTful)**
‚îÇ   ‚îú‚îÄ‚îÄ api_external/           # App: Integraci√≥n con APIs externas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py           # Modelos de datos para API externa
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ serializers.py      # Serializadores DRF
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ urls.py             # Rutas de la API externa
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ views.py            # L√≥gica de vistas de la API externa
‚îÇ   ‚îú‚îÄ‚îÄ appointments/           # App: Gesti√≥n de citas y horarios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py           # Modelos: Specialty, MedicalSchedule, Appointment, TemporaryReservation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ serializers.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ urls.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ views.py
‚îÇ   ‚îú‚îÄ‚îÄ authentication/         # App: Autenticaci√≥n, usuarios, roles, 2FA
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py           # Modelos: User, DoctorProfile, PatientProfile, LoginAttempt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ serializers.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ urls.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ views.py
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/              # App: Endpoints para el dashboard
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ urls.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ views.py
‚îÇ   ‚îú‚îÄ‚îÄ emergency/              # App: Gesti√≥n de casos de emergencia
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py           # Modelos: EmergencyCase, EmergencyVitalSigns, EmergencyMedication, etc.
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ serializers.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ urls.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ views.py
‚îÇ   ‚îú‚îÄ‚îÄ medical_records/        # App: Gesti√≥n de expedientes m√©dicos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py           # Modelos: MedicalRecord, Prescription, VitalSigns, Allergy, LabTest, etc.
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ serializers.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ urls.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ views.py
‚îÇ   ‚îú‚îÄ‚îÄ medical_system/         # Configuraci√≥n principal del proyecto Django
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings/           # M√≥dulo de configuraci√≥n (base, development, production)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ urls.py             # Rutas URL principales del proyecto
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ wsgi.py             # Configuraci√≥n WSGI para servidores
‚îÇ   ‚îú‚îÄ‚îÄ notifications/          # App: Env√≠o de notificaciones
‚îÇ   ‚îú‚îÄ‚îÄ pharmacy/               # App: Gesti√≥n de farmacia
‚îÇ   ‚îú‚îÄ‚îÄ reports/                # App: Generaci√≥n de reportes
‚îÇ   ‚îú‚îÄ‚îÄ static/                 # Archivos est√°ticos globales
‚îÇ   ‚îú‚îÄ‚îÄ templates/              # Plantillas HTML globales
‚îÇ   ‚îú‚îÄ‚îÄ tests/                  # Directorio para pruebas de integraci√≥n y unitarias
‚îÇ   ‚îú‚îÄ‚îÄ .coveragerc             # Configuraci√≥n de cobertura de c√≥digo
‚îÇ   ‚îú‚îÄ‚îÄ manage.py               # Utilidad de l√≠nea de comandos de Django
‚îÇ   ‚îú‚îÄ‚îÄ pytest.ini              # Configuraci√≥n para Pytest
‚îÇ   ‚îú‚îÄ‚îÄ tox.ini                 # Configuraci√≥n para Tox (automatizaci√≥n de pruebas)
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ frontend-web/               # **Componente: Aplicaci√≥n Web (React)**
‚îÇ   ‚îú‚îÄ‚îÄ public/                 # Archivos est√°ticos p√∫blicos
‚îÇ   ‚îú‚îÄ‚îÄ src/                    # C√≥digo fuente de la aplicaci√≥n React
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assets/             # Im√°genes, iconos, etc.
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/         # Componentes reutilizables de React
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ contexts/           # Contextos de React (ej. AuthContext)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/              # Hooks personalizados de React
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/              # Vistas/p√°ginas principales de la aplicaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Appointments.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/           # L√≥gica de comunicaci√≥n con la API (Axios)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ authService.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ styles/             # Archivos de estilos (Tailwind CSS)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Funciones de utilidad
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.jsx             # Componente principal y configuraci√≥n de rutas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.jsx            # Punto de entrada de la aplicaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ .gitignore
‚îÇ   ‚îú‚îÄ‚îÄ package.json            # Definici√≥n de dependencias y scripts npm
‚îÇ   ‚îú‚îÄ‚îÄ postcss.config.js
‚îÇ   ‚îú‚îÄ‚îÄ tailwind.config.js
‚îÇ   ‚îú‚îÄ‚îÄ vite.config.js          # Configuraci√≥n de Vite
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îî‚îÄ‚îÄ frontend-desktop/           # **Componente: Aplicaci√≥n de Escritorio (Electron)**
    ‚îú‚îÄ‚îÄ public/                 # Archivos est√°ticos p√∫blicos
    ‚îú‚îÄ‚îÄ src/                    # C√≥digo fuente de la aplicaci√≥n Electron
    ‚îÇ   ‚îú‚îÄ‚îÄ electron/           # Proceso principal de Electron
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.cjs        # L√≥gica principal de Electron (creaci√≥n de ventanas, IPC)
    ‚îÇ   ‚îú‚îÄ‚îÄ preload/            # Script de Preload para comunicaci√≥n segura
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ preload.js      # Expone APIs de Electron al proceso de renderizado
    ‚îÇ   ‚îú‚îÄ‚îÄ renderer/           # C√≥digo fuente de la interfaz de usuario (React)
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assets/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ contexts/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ styles/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.jsx
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.jsx
    ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îú‚îÄ‚îÄ .gitignore
    ‚îú‚îÄ‚îÄ electron-builder.json   # Configuraci√≥n para empaquetado con Electron Builder
    ‚îú‚îÄ‚îÄ package.json            # Definici√≥n de dependencias y scripts npm
    ‚îú‚îÄ‚îÄ postcss.config.js
    ‚îú‚îÄ‚îÄ tailwind.config.js
    ‚îú‚îÄ‚îÄ vite.config.js          # Configuraci√≥n de Vite
    ‚îî‚îÄ‚îÄ ...
```

Para una documentaci√≥n a√∫n m√°s detallada de cada componente, incluyendo su estructura interna, modelos de datos, endpoints de API y an√°lisis de c√≥digo, consulta los siguientes archivos:

-   [Documentaci√≥n Detallada del Backend](./backend/DOCUMENTACION_DETALLADA.md)
-   [Documentaci√≥n Detallada del Frontend Web](./frontend-web/DOCUMENTACION_DETALLADA.md)
-   [Documentaci√≥n Detallada del Frontend Desktop](./frontend-desktop/DOCUMENTACION_DETALLADA.md)

## ü§ù Contribuci√≥n

¬°Las contribuciones son bienvenidas! Si deseas contribuir a este proyecto, por favor, sigue estos pasos:

1.  Haz un "fork" del repositorio.
2.  Crea una nueva rama (`git checkout -b feature/nombre-de-la-caracteristica`).
3.  Realiza tus cambios y aseg√∫rate de que las pruebas pasen.
4.  Haz "commit" de tus cambios (`git commit -m 'feat: A√±adir nueva caracter√≠stica'`).
5.  Haz "push" a tu rama (`git push origin feature/nombre-de-la-caracteristica`).
6.  Abre un "Pull Request" en el repositorio original.

Por favor, consulta las [directrices de contribuci√≥n](CONTRIBUTING.md) (si existen) para m√°s detalles sobre el estilo de c√≥digo y el proceso de desarrollo.

## üìÑ Licencia

Este proyecto est√° bajo la Licencia MIT. Consulta el archivo [LICENSE](LICENSE) para m√°s detalles.
